<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html lang="#LANG">

    <head>
        <title>#Projet d'Imagerie</title>
        <meta http-equiv="Content-Type" content="text/html; charset=#CHARSET">


        <link rel="stylesheet" href="./style.css" type="text/css">


        <meta name="KeyWords" content="ISIMA, TP, imagerie">


        <meta name="Description" content="compte rendu de projet de TP">
    </head>

    <body>
        <h1>
            Segmentation d'objets en mouvement en utilisant l'estimation par flot optique.
        </h1>
        <h3>
            Benjamin Barbesange - Pierre Chevalier, ISIMA 3ème Année - Fillière 2
        </h3>
        <h1 class="titrearticle">
            Pr&eacute;sentation du sujet
        </h1>
        <p>
            Le projet se base sur une publication du laboratoire de recherche <em>CEREMADE</em> de l'<em>Université de Paris 9</em>            effectuée le 18 Juin 2004.
        </p>

        <p>
            L'interêt du projet est de pouvoir détecter de manière fiable les objets en mouvements au sein d'une séquence vidéo. Pour
            des raisons de simplifications, nous traiterons ici des lots de 2 images extraites d'une séquence vidéo où des
            objets sont en mouvement.
        </p>

        <h1 class="titrearticle">
            M&eacute;thode
        </h1>

            <h2 class="soustitrearticle">
                Partie th&eacute;orique
            </h2>

        Pr&eacute;sentation de la m&eacute;thode utilis&eacute;e et r&eacute;f&eacute;rence aux travaux connexes (cf. biblio article)<br>

            <p>
                Dans ce projet, deux techniques vont se retrouver conjointement sur le traitement de nos images.
            </p>

            <h3 class="soussoustitrearticle">
                Flot optique
            </h3>

            <p>
            	La méthode du flot optique permet de détecter les mouvements sur deux images consécutives. Son but est de calculer à partir d'un ensemble d'image 2D une approximation du mouvement 2D d'une projection de points à vélocité en 3D sur une image. Le flot optique va ainsi donner une estimation d'un mouvement apparent<em>REF site ent</em>
            </p>
            
            <p>
            	Il existe plusieurs algorithme pour réaliser ce filtre : l'algorithme de Lucas et Kanade, Horn et Schunck, Weickert et Schnörr. Ce dernier est celui proposé par le sujet du projet <em>ref</em>. Il ajoute une fonction de lissage au flot optique pour améliorer ses résultats. Cette méthode toutefois ne répère pas de maniere efficace les mouvements les plus petits mais permet une réduction du bruit, c'est pour cela qu'elle est mise en avant dans le docuement. La méthode de Horn et Schunck de son côté peut donner des résultats plus bruités mais l'ajustement de ses paramètres fournit des résultats acceptables. <em>ref</em>
			</p>
			
			<p>
				Avec notre implémentation du flot optique, nous obtenons une "carte des mouvements" entre les deux images. Sur cette matrice, les points en mouvement ont une valeur élevé et ceux qui ne semblent pas avoir bougés ont une valeur proche de zéro.
			</p>
			
			<figure>
                    <img src="./rsc/resultat_flot_optique.png" alt="Résultat Horn & Schunck" height="128">
                    <figcaption>
                        Résultat Horn & Schunck
                    </figcaption>
                </figure>
            </div>
            
			<p>
            	Dans notre implémentation nous utilisons l'algorithme de Horn et Schunck.
            </p>

            <h3 class="soussoustitrearticle">
                Contours actifs
            </h3>

            <p>
                Afin de pouvoir mettre en évidence les différents objets des images qui sont en mouvement, nous allons faire appel à la méthode des contours actifs géodésiques.
            </p>

            <p>
                Pour se faire, nous allons disposer d'un contour initial quelconque placé dans l'image. Puis nous allons faire évoluer ce contour dans l'image. Ce contour prendra en compte l'évolution de l'image entre 2 intervalles de temps. Au fur et à mesure d'itérations sur l'évolution de ce contour, celui-ci s'approchera de plus en plus du résultat théorique attendu, et va donc détourer les objets en mouvement.
            </p>

            <p>
                Afin que la donnée de mouvement soit bien prise en compte dans le modèle géodésique, nous allons introduire cette composante dans la fonction de calcul de l'évolution du contour.
            </p>


        <h2 class="soustitrearticle">
            Impl&eacute;mentation
        </h2>
        D&eacute;tails de l'impl&eacute;mentation (sous CImg)

            <h3 class="soussoustitrearticle">
                Flot optique
            </h3>

            <p>
                Notre implémentation du flot optique mais en oeuvre la formule suivante :</br>
                
 v(m,t)=(u(m,t),v(m,t))<br>
∫D(∇I⋅v+It)2+λ2(∥∇u∥2+∥∇v∥2)dm<br>

uk+1=u¯k−Ix[Ixu¯k+Iyv¯k+It]λ2+I2x+I2y<br>

vk+1=v¯k−Iy[Ixu¯k+Iyv¯k+It]λ2+I2x+I2y<br>

VOIR <em>math ML</em>
            </p>

            <h3 class="soussoustitrearticle">
                Contours actifs
            </h3>

            <p>

            </p>

        <h1 class="titrearticle">
            R&eacute;sultats
        </h1>

        <h2 class="soustitrearticle">
            Validation sur donn&eacute;es de synth&egrave;se
        </h2>

        <p>
            Nous allons prendre pour point de départ les deux images suivantes :

            <div>
                <figure>
                    <img src="../rsc/carreBois1.bmp" alt="Image de synthèse 1" height="128">
                    <figcaption>
                        Image 1
                    </figcaption>
                </figure>

                <figure>
                    <img src="../rsc/carreBois2.bmp" alt="Image de synthèse 2" height="128">
                    <figcaption>
                        Image 2
                    </figcaption>
                </figure>
            </div>

            Nous pouvous clairement observer sur ces images un déplacement du carré situé dans la partie basse de l'image, vers le bord gauche de celle-ci.
        </p>

        <p>
            Pour exécuter le traitement, on utilise la commande :
            <code>
                ./mosuofe -img1 ../rsc/carreBois1.bmp -img2 ../rsc/carreBois2.bmp -a 0.5 -t 0.05 -g 0.3 -b 0.3
            </code>

            Le résultat est le suivant :

            <div>
                <figure>
                    <img src="../rsc/resulatCarreBois.bmp" alt="Résultat" height="128">
                    <figcaption>
                        Résultat de l'exécution du programme
                    </figcaption>
                </figure>
            </div>
        </p>

        <p>
            Comme on peut l'observer, le programme est tout à fait capable de détecter l'objet en mouvement. On distingue toutefois certains soucis de précision sur le contour.
            Ceci peut s'expliquer par le fait que le contour actif utilise également le gradient de l'image pour déterminer les contours. Il est donc possible que dans une zone trop sombre ou trop clair, le contour soit imprécis.
        </p>


        Vous devez cr&eacute;er des donn&eacute;es de synth&egrave;se pour &eacute;valuer votre m&eacute;thode<br>

        <h2 class="soustitrearticle">
            Donn&eacute;es r&eacute;elles
        </h2>

        Une fois la m&eacute;thode &eacute;valu&eacute;e, vous appliquerez votre m&eacute;thode sur des images r&eacute;elles<br>

        <h1 class="titrearticle">
            Discussion
        </h1>

        <p>
            Bon, ça fonctionne, mais c'est pas encore ça dans une image réélle...
        </p>

        Commentez vos r&eacute;sultats (d'un point de vue qualitatif <span style="font-weight: bold;">ET</span> quantitatif)<br>


        <h1 class="titrearticle">
            R&eacute;f&eacute;rences
        </h1>

        Rappel des r&eacute;f&eacute;rences incontournables du sujet trait&eacute; dans l'article
    </body>

</html>
